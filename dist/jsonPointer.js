!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("jsonPointer",[],t):"object"==typeof exports?exports.jsonPointer=t():e.jsonPointer=t()}("undefined"!=typeof self?self:this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return"#"===e||""===e||Array.isArray(e)&&0===e.length||!1}e.r(t),e.d(t,{default:()=>_,get:()=>s,isRoot:()=>n,join:()=>P,remove:()=>v,removeUndefinedItems:()=>m,set:()=>g,split:()=>f,splitLast:()=>O});const o=/~1/g,r=/~0/g,i=/(^#?\/?)/g;function l(e){return e.replace(o,"/").replace(r,"~")}function u(e){return l(decodeURIComponent(e))}function f(e){if(null==e||"string"!=typeof e||n(e))return Array.isArray(e)?e:[];const t=e.indexOf("#")>=0?u:l,o=(e=e.replace(i,"")).split("/");for(let e=0,n=o.length;e<n;e+=1)o[e]=t(o[e]);return o}function s(e,t,o=void 0){if(null==t||null==e)return o;if(n(t))return e;console.log(t,"Â»",f(t));const r=c(e,f(t));return void 0===r?o:r}function c(e,t){const n=t.shift();if(void 0!==e)return void 0!==n?c(e[n],t):e}const p=/^\[.*\]$/,d=/^\[(.+)\]$/;function a(e,t){return"__proto__"===e||"constructor"==e&&t.length>0&&"prototype"==t[0]}function g(e,t,n){if(null==t)return e;const o=f(t);if(0===o.length)return e;null==e&&(e=p.test(o[0])?[]:{});let r,i,l=e;for(;o.length>1;)r=o.shift(),i=p.test(o[0]),a(r,o)||(l=h(l,r,i));return r=o.pop(),y(l,r,n),e}function y(e,t,n){let o;const r=t.match(d);"[]"===t&&Array.isArray(e)?e.push(n):r?(o=r.pop(),e[o]=n):e[t]=n}function h(e,t,n){if(null!=e[t])return e[t];const o=n?[]:{};return y(e,t,o),o}function m(e){let t=0,n=0;for(;t+n<e.length;)void 0===e[t+n]&&(n+=1),e[t]=e[t+n],t+=1;return e.length=e.length-n,e}function v(e,t,n){const o=f(t),r=o.pop(),i=s(e,o);return i&&delete i[r],Array.isArray(i)&&!0!==n&&m(i),e}const j=/~/g,b=/\//g;function A(e,t){if(0===e.length)return t?"#":"";for(let n=0,o=e.length;n<o;n+=1)e[n]=e[n].replace(j,"~0").replace(b,"~1"),t&&(e[n]=encodeURIComponent(e[n]));return(t?"#/":"/")+e.join("/")}function P(e,...t){const n=[];if(Array.isArray(e))return A(e,!0===arguments[1]);const o=arguments[arguments.length-1],r="boolean"==typeof o?o:e&&"#"===e[0];for(let e=0,t=arguments.length;e<t;e+=1)n.push.apply(n,f(arguments[e]));const i=[];for(let e=0,t=n.length;e<t;e+=1)if(".."===n[e]){if(0===i.length)return r?"#":"";i.pop()}else i.push(n[e]);return A(i,r)}function O(e){const t=f(e);if(0===t.length)return"string"==typeof e&&"#"===e[0]?["#",t[0]]:["",void 0];if(1===t.length)return"#"===e[0]?["#",t[0]]:["",t[0]];const n=t.pop();return[P(t,"#"===e[0]),n]}const _={get:s,set:g,remove:v,join:P,split:f,splitLast:O,isRoot:n,removeUndefinedItems:m};return t})()));